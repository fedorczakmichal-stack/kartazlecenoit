<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edytowalna Karta Zlece≈Ñ OIT</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="top-controls no-print">
            <button onclick="window.print()" class="print-button">üñ®Ô∏è Drukuj kartƒô</button>
            <button onclick="saveCard()" class="print-button" style="background: #4CAF50;">üíæ Zapisz kartƒô</button>
            <button onclick="loadCard()" class="print-button" style="background: #FF9800;">üìÇ Wczytaj kartƒô</button>
            <button onclick="clearCard()" class="print-button" style="background: #f44336;">üóëÔ∏è Wyczy≈õƒá kartƒô</button>
            <button id="darkModeToggle">üåô</button>
        </div>
        
        <div class="no-print" style="background: #e8f5e9; padding: 8px; border-radius: 4px; margin: 10px; font-size: 11px;">
            <strong>üí° Wskaz√≥wka:</strong> Doba w OIT jest obliczana automatycznie, ale pole pozostaje edytowalne w razie potrzeby.
        </div>

        <div class="header">
            <h1>KARTA ZLECE≈É LEKARSKICH - ODDZIA≈Å INTENSYWNEJ TERAPII</h1>
            <div class="main-header">
                <div class="patient-id-bar">
                    <div class="header-item name">
                        <label>Imiƒô i Nazwisko</label>
                        <input type="text" placeholder="..." id="patientNameInput" class="header-input"/>
                    </div>
                    <div class="header-item pesel">
                        <label>PESEL</label>
                        <input type="text" placeholder="..." pattern="\d{11}" title="PESEL musi sk≈Çadaƒá siƒô z 11 cyfr" id="peselInput" class="header-input"/>
                    </div>
                    <div class="header-item history">
                        <label>Nr historii</label>
                        <input type="text" placeholder="..." id="historyNumberInput" class="header-input"/>
                    </div>
                    <div class="header-item allergy">
                        <label>Alergie</label>
                        <input type="text" placeholder="..." id="allergiesInput" class="header-input"/>
                    </div>
                </div>
                <div class="patient-context-bar">
                    <div class="header-item diagnosis">
                        <label>Rozpoznanie</label>
                        <input type="text" placeholder="..." id="diagnosisInput" class="header-input"/>
                    </div>
                    <div class="header-item admission-date">
                        <label>Data przyjƒôcia</label>
                        <input type="text" placeholder="DD.MM.RRRR" id="admissionDateInput" class="header-input" onchange="calculateIcuDay()"/>
                    </div>
                    <div class="header-item room">
                        <label>Sala/≈Å√≥≈ºko</label>
                        <input type="text" placeholder="..." id="roomInput" class="header-input"/>
                    </div>
                    <div class="header-item weight">
                        <label>Waga (kg)</label>
                        <input type="number" min="0" placeholder="..." id="patientWeight" oninput="document.querySelectorAll('.dose').forEach(el => el.dispatchEvent(new Event('input')))" class="header-input"/>
                    </div>
                    <div class="header-item height">
                        <label>Wzrost (cm)</label>
                        <input type="number" min="0" placeholder="..." id="heightInput" class="header-input"/>
                    </div>
                    <div class="header-item date">
                        <label>DATA</label>
                        <input type="text" id="mainDateInput" class="header-input" onchange="calculateIcuDay()"/>
                    </div>
                    <div class="header-item icu-day">
                        <label>Doba w OIT</label>
                        <input type="number" min="0" placeholder="0" id="icuDayInput" class="header-input"/>
                    </div>
                </div>
            </div>
        </div>

        <h2 class="drugs-continuous">LEKI CIƒÑG≈ÅE - POMPY INFUZYJNE</h2>
        <table id="continuousDrugsTable">
            <thead>
                <tr>
                    <th width="30%">Lek / Stƒô≈ºenie</th>
                    <th width="20%">Dawka</th>
                    <th width="15%">Prƒôdko≈õƒá [ml/h]</th>
                    <th width="25%">Podpis pielƒôgniarki</th>
                    <th width="10%" class="action-column no-print">Akcje</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        <div class="button-container no-print">
            <button onclick="addContinuousDrug()" class="add-button">+ Dodaj lek ciƒÖg≈Çy</button>
        </div>
        <h2 class="drugs-periodic">LEKI OKRESOWE</h2>
        <table id="periodicDrugsTable">
            <thead>
                <tr>
                    <th width="25%">Lek / Dawka</th>
                    <th width="15%">Droga / Czƒôsto≈õƒá</th>
                    <th width="50%">Podpis pielƒôgniarki</th>
                    <th width="10%" class="action-column no-print">Akcje</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <div class="button-container no-print">
            <button onclick="addPeriodicDrug()" class="add-button">+ Dodaj lek okresowy</button>
        </div>
        <h2 class="fluids">P≈ÅYNOTERAPIA</h2>
        <table id="fluidsTable">
            <thead>
                <tr>
                    <th width="30%">P≈Çyn</th>
                    <th width="20%">Objƒôto≈õƒá</th>
                    <th width="15%">Prƒôdko≈õƒá [ml/h]</th>
                    <th width="25%">Uwagi / Podpis</th>
                    <th width="10%" class="action-column no-print">Akcje</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <h2 class="nutrition">≈ªYWIENIE</h2>
        <table id="nutritionTable">
            <thead>
                <tr>
                    <th width="30%">Typ</th>
                    <th width="40%">Preparat / Dawka</th>
                    <th width="20%">Uwagi / Podpis</th>
                    <th width="10%" class="action-column no-print">Akcje</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <div class="summary-container">
            <div id="fluidBalanceSummary"><strong>Suma p≈Çyn√≥w / 24h:</strong> <span id="totalFluids">0</span> ml</div>
            <div id="kcalSummary"><strong>Suma kcal / 24h:</strong> <span id="totalKcal">0</span> kcal</div>
        </div>
        <div class="button-container no-print">
            <button onclick="addFluid()" class="add-button">+ Dodaj p≈Çyn</button>
            <button onclick="addNutrition()" class="add-button" style="background-color: #ff7f27;">+ Dodaj ≈ºywienie</button>
        </div>
        <h2 class="procedures">PROCEDURY / ZABIEGI</h2>
        <table id="proceduresTable">
            <thead>
                <tr>
                    <th width="15%">Godzina</th>
                    <th width="40%">Procedura</th>
                    <th width="35%">Wykonano (podpis)</th>
                    <th width="10%" class="action-column no-print">Akcje</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <div class="button-container no-print">
            <button onclick="addProcedure()" class="add-button">+ Dodaj procedurƒô</button>
        </div>
        <div class="footer">
            <h2 class="notes">UWAGI DODATKOWE</h2>
            <div style="border: 1px solid var(--border-color); padding: 5px; min-height: 40px; background: linear-gradient(to bottom, var(--table-row-even-bg), var(--header-gradient-start)); border-radius: 3px;">
                <textarea style="width: 100%; min-height: 35px; border: none; background: transparent; font-family: Arial; font-size: 11px; color: var(--text-color);" placeholder="Miejsce na dodatkowe zalecenia, uwagi, konsultacje..."></textarea>
            </div>
            <div style="margin-top: 20px; text-align: center;">
                <strong style="font-size: 13px; color: #2c5aa0;">LEKARZ DY≈ªURNY:</strong>
                <div class="signature-line" style="width: 50%; margin: 30px auto 0 auto;">
                    (pieczƒÖtka i podpis)
                </div>
            </div>
        </div>
    </div>
    <datalist id="continuousDrugsList"> <option value="NORADRENALINA"><option value="ADRENALINA"><option value="DOPAMINA"><option value="DOBUTAMINA"><option value="WAZOPRESYNA"><option value="MILRINON"><option value="PROPOFOL 1%"><option value="PROPOFOL 2%"><option value="MIDAZOLAM"><option value="DEKSMEDETOMIDYNA"><option value="FENTANYL"><option value="REMIFENTANYL"><option value="MORFINA"><option value="KETAMINA"><option value="ROKURONIOM"><option value="CISATRAKURIUM"><option value="INSULINA"><option value="HEPARYNA"><option value="FUROSEMID"><option value="AMIODARON"><option value="NITROGLICERYNA"><option value="NITROPRUSYDEK SODU"><option value="LABETALOL"><option value="URAPIDIL"> </datalist>
    <datalist id="periodicDrugsList"> <option value="MEROPENEM"><option value="PIPERACYLINA/TAZOBAKTAM"><option value="WANKOMYCYNA"><option value="LINEZOLID"><option value="CEFTRIAKSON"><option value="CEFTAZYDYM"><option value="CIPROFLOKSACYNA"><option value="METRONIDAZOL"><option value="FLUKONAZOL"><option value="KASPOFUNGINA"><option value="PANTOPRAZOL"><option value="OMEPRAZOL"><option value="RANITYDYNA"><option value="ENOKSAPARYNA"><option value="DALTEPARYNA"><option value="NADROPARYNA"><option value="FUROSEMID"><option value="TORASEMID"><option value="MANNITOL"><option value="HYDROKORTYZON"><option value="METYLOPREDNIZOLON"><option value="DEKSAMETAZON"><option value="PARACETAMOL"><option value="METAMIZOL"><option value="HALOPERIDOL"><option value="METOKLOPRAMID"><option value="ONDANSETRON"><option value="N-ACETYLOCYSTEINA"><option value="WITAMINA K"><option value="WITAMINA C"><option value="TIAMINA"><option value="MAGNEZ"><option value="POTAS"><option value="WAP≈É"><option value="FOSFORANY"> </datalist>
    <datalist id="fluidsList"> <option value="NaCl 0.9%"><option value="Plasmalyte"><option value="Ringer"><option value="Glukoza 5%"><option value="Glukoza 10%"><option value="Gelafundin 4%"><option value="Voluven 6%"><option value="HES 6%"><option value="Albuminy 20%"><option value="Albuminy 5%"><option value="NaCl 3%"><option value="NaCl 10%"><option value="Mannitol 15%"><option value="Mannitol 20%"><option value="NaHCO3 8.4%"><option value="KCl 7.45%"><option value="MgSO4 20%"><option value="Ca gluconicum 10%"> </datalist>
    <datalist id="nutritionTypesList"> <option value="≈ªywienie dojelitowe"><option value="≈ªywienie parenteralne"><option value="≈ªywienie mieszane"><option value="Dieta doustna"> </datalist>
    <datalist id="enteralProductsList"> <option value="Nutrison 500ml"><option value="Nutrison 1000ml"><option value="Nutrison Energy 500ml"><option value="Nutrison Energy 1000ml"><option value="Nutrison Protein Plus 500ml"><option value="Nutrison Protein Plus 1000ml"><option value="Fresubin HP Energy 500ml"><option value="Fresubin HP Energy 1000ml"><option value="Fresubin Original 500ml"><option value="Peptamen 500ml"><option value="Diben 500ml"> </datalist>
    <datalist id="parenteralProductsList"> <option value="SmofKabiven 986ml"><option value="SmofKabiven 1477ml"><option value="SmofKabiven 1970ml"><option value="SmofKabiven 2463ml"><option value="Kabiven 1026ml"><option value="Kabiven 1540ml"><option value="Kabiven 2053ml"><option value="Olimel N9E 1000ml"><option value="Olimel N9E 1500ml"><option value="Olimel N9E 2000ml"> </datalist>
    <datalist id="proceduresList"> <option value="Toaleta drzewa oskrzelowego"><option value="RTG klatki piersiowej przy≈Ç√≥≈ºkowe"><option value="Zmiana opatrunku CVC"><option value="Zmiana pozycji cia≈Ça"><option value="Profilaktyka odle≈ºyn"><option value="USG p≈Çuc"><option value="USG jamy brzusznej"><option value="Bronchoskopia"><option value="Wymiana rurki intubacyjnej"><option value="Wymiana rurki tracheostomijnej"><option value="Za≈Ço≈ºenie CVC"><option value="Za≈Ço≈ºenie cewnika tƒôtniczego"><option value="Za≈Ço≈ºenie cewnika Foleya"><option value="Punkcja lƒôd≈∫wiowa"><option value="Nak≈Çucie jamy op≈Çucnej"><option value="Drena≈º jamy op≈Çucnej"><option value="CRRT - rozpoczƒôcie"><option value="CRRT - wymiana zestawu"><option value="Hemodializa"><option value="Plazmafereza"><option value="Fizjoterapia"><option value="Rehabilitacja oddechowa"><option value="Pionizacja"><option value="EKG"><option value="ECHO serca"><option value="Gastroskopia"><option value="Kolonoskopia"><option value="CT g≈Çowy"><option value="CT klatki piersiowej"><option value="CT jamy brzusznej"> </datalist>
    <datalist id="timesList"> <option value="06:00"><option value="07:00"><option value="08:00"><option value="09:00"><option value="10:00"><option value="11:00"><option value="12:00"><option value="13:00"><option value="14:00"><option value="15:00"><option value="16:00"><option value="17:00"><option value="18:00"><option value="19:00"><option value="20:00"><option value="21:00"><option value="22:00"><option value="23:00"><option value="00:00"><option value="01:00"><option value="02:00"><option value="03:00"><option value="04:00"><option value="05:00"><option value="q1h"><option value="q2h"><option value="q4h"><option value="q6h"><option value="PRN"> </datalist>
    <script src="script.js"></script>
</body>
</html>